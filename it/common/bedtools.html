<h1 id="bedtools">bedtools</h1>

<p>Un coltellino svizzero di strumenti per una vasta gamma di operazioni di analisi genomica.
Usato per intersecare, raggruppare, convertire e contare dati in formato BAM, BED, GFF/GTF, VCF.
Maggiori informazioni: <a href="https://bedtools.readthedocs.io">https://bedtools.readthedocs.io</a>.</p>

<ul>
  <li>Interseca il file [a] ed il/i file [b] in base alla sequenza del filamento [s] e salva il risultato in un file specifico:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bedtools intersect -a </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file_A</span><code class="language-plaintext highlighter-rouge"> -b </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file_B1 percorso/del/file_B2 …</span><code class="language-plaintext highlighter-rouge"> -s &gt; </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file_output</span></p>

<ul>
  <li>Interseca 2 file in base a una [l]eft [o]uter [j]oin ovvero una unione d'insieme di dati ordinati in colonne che restituisce i dati della tabella di sinistra. Es: riporta ogni proprietà presente nel <code class="language-plaintext highlighter-rouge">file1</code> e NULL dove non c'è sovrapposizione con <code class="language-plaintext highlighter-rouge">file2</code>:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bedtools intersect -a </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file1</span><code class="language-plaintext highlighter-rouge"> -b </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file2</span><code class="language-plaintext highlighter-rouge"> -loj &gt; </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file_output</span></p>

<ul>
  <li>Usa un algoritmo più efficiente per intersecare due file precedentemente ordinati:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bedtools intersect -a </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file1</span><code class="language-plaintext highlighter-rouge"> -b </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file2</span><code class="language-plaintext highlighter-rouge"> -sorted &gt; </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file_output</span></p>

<ul>
  <li>Seleziona in un file le prime tre colonne e la quinta [c]olonna utilizzando la sesta colonna per ra[g]gruppare i dati al fine di poter calcolare tramite un'[o]perazione di addizione la somma delle colonne 1,2,3 e 5 per ciascun gruppo:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bedtools groupby -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file</span><code class="language-plaintext highlighter-rouge"> -c 1-3,5 -g 6 -o sum</code></p>

<ul>
  <li>Converti un file in [i]nput formattato bam in un file formattato bed:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bedtools bamtobed -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file.bam</span><code class="language-plaintext highlighter-rouge"> &gt; </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file.bed</span></p>

<ul>
  <li>Trova per tutte le proprietà presenti nel <code class="language-plaintext highlighter-rouge">file1.bed</code> la più vicina nel <code class="language-plaintext highlighter-rouge">file2.bed</code> e aggiunge la loro [d]istanza in una ulteriore colonna al risultato finale (i file in input devono essere ordinati):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bedtools closest -a </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file1.bed</span><code class="language-plaintext highlighter-rouge"> -b </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percorso/del/file2.bed</span><code class="language-plaintext highlighter-rouge"> -d</code></p>
