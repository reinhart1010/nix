<h1 id="yq">yq</h1>

<p>一个轻量级且可移植的命令行 YAML 处理器。
更多信息：<a href="https://mikefarah.gitbook.io/yq/">https://mikefarah.gitbook.io/yq/</a>.</p>

<ul>
  <li>以漂亮打印格式输出 YAML 文件（v4+）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq eval </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file.yaml</span></p>

<ul>
  <li>以漂亮打印格式输出 YAML 文件（v3）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq read </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file.yaml</span><code class="language-plaintext highlighter-rouge"> --colors</code></p>

<ul>
  <li>输出仅包含数组的 YAML 文件中的第一个元素（v4+）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq eval '.[0]' </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file.yaml</span></p>

<ul>
  <li>输出仅包含数组的 YAML 文件中的第一个元素（v3）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq read </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file.yaml</span><code class="language-plaintext highlighter-rouge"> '[0]'</code></p>

<ul>
  <li>在文件中设置（或覆盖）键的值（v4+）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq eval '.</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">键</span><code class="language-plaintext highlighter-rouge"> = "</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">值</span><code class="language-plaintext highlighter-rouge">"' --inplace </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file.yaml</span></p>

<ul>
  <li>在文件中设置（或覆盖）键的值（v3）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq write --inplace </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file.yaml</span><code class="language-plaintext highlighter-rouge"> '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">键</span><code class="language-plaintext highlighter-rouge">' '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">值</span><code class="language-plaintext highlighter-rouge">'</code></p>

<ul>
  <li>合并两个文件并打印到 <code class="language-plaintext highlighter-rouge">stdout</code>（v4+）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq eval-all 'select(filename == "</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file1.yaml</span><code class="language-plaintext highlighter-rouge">") * select(filename == "</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file2.yaml</span><code class="language-plaintext highlighter-rouge">")' </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file1.yaml</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file2.yaml</span></p>

<ul>
  <li>合并两个文件并打印到 <code class="language-plaintext highlighter-rouge">stdout</code>（v3）：</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">yq merge </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file1.yaml</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">路径/到/file2.yaml</span><code class="language-plaintext highlighter-rouge"> --colors</code></p>
