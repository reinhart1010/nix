<p>This entry is very new in the <a href="https://github.com/tldr-pages/tldr">tldr-pages</a> project, hence translation data is currently unavailable for a while.</p>

<hr />
<h1 id="aws-secretsmanager">aws secretsmanager</h1>

<p>Armazena, gerencia, e obtem secrets.
Mais informações: <a href="https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/">https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/</a>.</p>

<ul>
  <li>Lista secrets armazenados pelo gerenciador de secretes na conta atual:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager list-secrets</code></p>

<ul>
  <li>Cria um secret:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager create-secret --name </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome</span><code class="language-plaintext highlighter-rouge"> --description "</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">descrição_do_secret</span><code class="language-plaintext highlighter-rouge">" --secret-string </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">secret</span></p>

<ul>
  <li>Apaga um secret:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager delete-secret --secret-id </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome_ou_arn</span></p>

<ul>
  <li>Visualiza detalhes de um secret menos pelo texto do secret:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager describe-secret --secret-id </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome_ou_arn</span></p>

<ul>
  <li>Obtém o valor do secret (para pegar a última versão do secret não use <code class="language-plaintext highlighter-rouge">--version-stage</code>):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager get-secret-value --secret-id </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome_ou_arn</span><code class="language-plaintext highlighter-rouge"> --version-stage </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">versão_do_secret</span></p>

<ul>
  <li>Alterna o secret imediatamente usando uma função Lambda:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager rotate-secret --secret-id </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome_ou_arn</span><code class="language-plaintext highlighter-rouge"> --rotation-lambda-arn </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">arn_da_função_lambda</span></p>

<ul>
  <li>Alterna o secret automaticamente a cada 30 dias usando uma função Lambda:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws secretsmanager rotate-secret --secret-id </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome_ou_arn</span><code class="language-plaintext highlighter-rouge"> --rotation-lambda-arn </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">arn_da_função_lambda</span><code class="language-plaintext highlighter-rouge"> --rotation-rules AutomaticallyAfterDays=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">30</span></p>
