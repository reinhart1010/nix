<h1 id="virsh">virsh</h1>

<p>Gerenciar domínios de convidados do virsh. (NOTA: 'guest_id' pode ser o ID, nome ou UUID do convidado).
Alguns subcomandos, como <code class="language-plaintext highlighter-rouge">list</code>, têm sua própria documentação de uso.
Mais informações: <a href="https://libvirt.org/manpages/virsh.html">https://libvirt.org/manpages/virsh.html</a>.</p>

<ul>
  <li>Conecta a uma sessão do hipervisor:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh connect </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">qemu:///system</span></p>

<ul>
  <li>Lista todos os domínios:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh list --all</code></p>

<ul>
  <li>Despeja arquivo de configuração do convidado:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh dumpxml </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">guest_id</span><code class="language-plaintext highlighter-rouge"> &gt; </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">caminho/para/convidado.xml</span></p>

<ul>
  <li>Cria um convidado a partir de um arquivo de configuração:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh create </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">caminho/para/arquivo_de_configuracao.xml</span></p>

<ul>
  <li>Edita o arquivo de configuração de um convidado (o editor pode ser alterado com $EDITOR):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh edit </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">guest_id</span></p>

<ul>
  <li>Inicia/reinicia/desliga/suspende/resume um convidado:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">comando</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">guest_id</span></p>

<ul>
  <li>Salva o estado atual de um convidado em um arquivo:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh save </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">guest_id</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">nome_do_arquivo</span></p>

<ul>
  <li>Exclui um convidado em execução:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virsh destroy </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">guest_id</span><code class="language-plaintext highlighter-rouge"> &amp;&amp; virsh undefine </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">guest_id</span></p>
