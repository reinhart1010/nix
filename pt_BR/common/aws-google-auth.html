<h1 id="aws-google-auth">aws-google-auth</h1>

<p>Linha de comando para obter credenciais (STS) temporárias AWS usando o Google Apps como um provedor (Single Sign-On) federado.
Mais informações: <a href="https://github.com/cevoaustralia/aws-google-auth">https://github.com/cevoaustralia/aws-google-auth</a>.</p>

<ul>
  <li>Loga com o Google SSO usando identificadores IDP e SP e cria credenciais com duração de uma hora:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws-google-auth -u </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">exemplo@example.com</span><code class="language-plaintext highlighter-rouge"> -I </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$GOOGLE_IDP_ID</span><code class="language-plaintext highlighter-rouge"> -S </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$GOOGLE_SP_ID</span><code class="language-plaintext highlighter-rouge"> -d </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">3600</span></p>

<ul>
  <li>Loga perguntando ([a]sking) qual papel usar (no caso de diversos papeis SAML disponíveis):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws-google-auth -u </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">examplo@example.com</span><code class="language-plaintext highlighter-rouge"> -I </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$GOOGLE_IDP_ID</span><code class="language-plaintext highlighter-rouge"> -S </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$GOOGLE_SP_ID</span><code class="language-plaintext highlighter-rouge"> -d </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">3600</span><code class="language-plaintext highlighter-rouge"> -a</code></p>

<ul>
  <li>Resolve aliases para contas AWS:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws-google-auth -u </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">examplo@example.com</span><code class="language-plaintext highlighter-rouge"> -I </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$GOOGLE_IDP_ID</span><code class="language-plaintext highlighter-rouge"> -S </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$GOOGLE_SP_ID</span><code class="language-plaintext highlighter-rouge"> -d </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">3600</span><code class="language-plaintext highlighter-rouge"> -a --resolve-aliases</code></p>

<ul>
  <li>Exibe informações de ajuda:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">aws-google-auth -h</code></p>
