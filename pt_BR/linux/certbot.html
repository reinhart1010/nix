<h1 id="certbot">certbot</h1>

<p>O agente da Let's Encrypt para obtenção e renovação de certificados TLS automaticamente.
Sucessor do <code class="language-plaintext highlighter-rouge">letsencrypt</code>.
Mais informações: <a href="https://certbot.eff.org/docs/using.html">https://certbot.eff.org/docs/using.html</a>.</p>

<ul>
  <li>Obtém um novo certificado via autorização webroot, porém sem instala-o automaticamente:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo certbot certonly --webroot --webroot-path </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">caminho_para_webroot</span><code class="language-plaintext highlighter-rouge"> --domain </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">subdominio.dominio.com</span></p>

<ul>
  <li>Obtém um novo certificado via autorização nginx e instala-o automaticamente:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo certbot --nginx --domain </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">subdominio.dominio.com</span></p>

<ul>
  <li>Obtém um novo certificado via autorização apache e instala-o automaticamente:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo certbot --apache --domain </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">subdominio.dominio.com</span></p>

<ul>
  <li>Renova todos os certificados que expirarão em 30 dias ou menos (não esqueça de reiniciar todos os servidores que usam os certificados):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo certbot renew</code></p>

<ul>
  <li>Simula a obtenção de um novo certificado, porém sem salvá-lo no disco rígido:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo certbot --webroot --webroot-path </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">caminho_para_webroot</span><code class="language-plaintext highlighter-rouge"> --domain </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">subdominio.dominio.com</span><code class="language-plaintext highlighter-rouge"> --dry-run</code></p>

<ul>
  <li>Obtém um certificado não confiável para testes:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo certbot --webroot --webroot-path </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">caminho_para_webroot</span><code class="language-plaintext highlighter-rouge"> --domain </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">subdominio.dominio.com</span><code class="language-plaintext highlighter-rouge"> --test-cert</code></p>
