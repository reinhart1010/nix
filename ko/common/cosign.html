<h1 id="cosign">cosign</h1>

<p>OCI 레지스트리의 컨테이너 서명, 검증 및 저장.
더 많은 정보: <a href="https://github.com/sigstore/cosign">https://github.com/sigstore/cosign</a>.</p>

<ul>
  <li>키의 쌍을 생성:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign generate-key-pair</code></p>

<ul>
  <li>컨테이너에 서명하고 레지스트리에 서명을 저장:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign sign -key </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">cosign.key</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">이미지</span></p>

<ul>
  <li>Kubernetes 비밀에 저장된 키 쌍을 사용하여 컨테이너 이미지에 서명:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign sign -key k8s://</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">네임스페이스</span><code class="language-plaintext highlighter-rouge">/</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">키</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">이미지</span></p>

<ul>
  <li>로컬 키 쌍 파일로 blob에 서명:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign sign-blob --key </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">cosign.key</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/파일</span></p>

<ul>
  <li>공개 키에 대해 컨테이너를 확인:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign verify -key </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">cosign.pub</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">이미지</span></p>

<ul>
  <li>Dockerfile의 공개 키로 이미지를 확인:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign dockerfile verify -key </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">cosign.pub</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/Dockerfile</span></p>

<ul>
  <li>Kubernetes 비밀에 저장된 공개 키로 이미지를 확인:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign verify -key k8s://</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">네임스페이스</span><code class="language-plaintext highlighter-rouge">/</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">key</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">이미지</span></p>

<ul>
  <li>컨테이너 이미지와 해당 서명을 복사:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">cosign copy </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">example.com/src:latest</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">example.com/dest:latest</span></p>
