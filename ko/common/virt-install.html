<h1 id="virt-install">virt-install</h1>

<p>libvirt를 사용하여 가상 머신을 생성하고 OS 설치를 시작합니다.
더 많은 정보: <a href="https://virt-manager.org/">https://virt-manager.org/</a>.</p>

<ul>
  <li>1 GB RAM과 12 GB 스토리지를 가진 가상 머신을 생성하고 Debian 설치 시작:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virt-install --name </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">가상머신_이름</span><code class="language-plaintext highlighter-rouge"> --memory </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">1024</span><code class="language-plaintext highlighter-rouge"> --disk path=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/이미지.qcow2</span><code class="language-plaintext highlighter-rouge">,size=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">12</span><code class="language-plaintext highlighter-rouge"> --cdrom </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/debian.iso</span></p>

<ul>
  <li>x86-64, KVM 가속, UEFI 기반, Q35 칩셋을 사용하는 가상 머신을 4 GiB RAM, 16 GiB RAW 스토리지와 함께 생성하고 Fedora 설치 시작:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virt-install --name </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">가상머신_이름</span><code class="language-plaintext highlighter-rouge"> --arch </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">x86_64</span><code class="language-plaintext highlighter-rouge"> --virt-type </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">kvm</span><code class="language-plaintext highlighter-rouge"> --machine </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">q35</span><code class="language-plaintext highlighter-rouge"> --boot </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">uefi</span><code class="language-plaintext highlighter-rouge"> --memory </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">4096</span><code class="language-plaintext highlighter-rouge"> --disk path=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/이미지.raw</span><code class="language-plaintext highlighter-rouge">,size=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">16</span><code class="language-plaintext highlighter-rouge"> --cdrom </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/fedora.iso</span></p>

<ul>
  <li>디스크 없이 사운드 장치나 USB 컨트롤러가 없는 라이브 가상 머신 생성. 설치를 시작하지 않고 콘솔에 자동 연결하지 않지만 cdrom을 연결 (tails와 같은 라이브 CD 사용 시 유용할 수 있음):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virt-install --name </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">가상머신_이름</span><code class="language-plaintext highlighter-rouge"> --memory </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">512</span><code class="language-plaintext highlighter-rouge"> --disk </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">none</span><code class="language-plaintext highlighter-rouge"> --controller </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">type=usb,model=none</span><code class="language-plaintext highlighter-rouge"> --sound </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">none</span><code class="language-plaintext highlighter-rouge"> --autoconsole </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">none</span><code class="language-plaintext highlighter-rouge"> --install </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">no_install=yes</span><code class="language-plaintext highlighter-rouge"> --cdrom </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/tails.iso</span></p>

<ul>
  <li>16 GiB RAM, 250 GiB 스토리지, 하이퍼스레딩이 있는 8 코어, 특정 CPU 토폴로지 및 호스트 CPU와 대부분의 기능을 공유하는 CPU 모델을 가진 가상 머신 생성:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virt-install --name </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">가상머신_이름</span><code class="language-plaintext highlighter-rouge"> --cpu </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">host-model</span><code class="language-plaintext highlighter-rouge">,topology.sockets=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">1</span><code class="language-plaintext highlighter-rouge">,topology.cores=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">4</span><code class="language-plaintext highlighter-rouge">,topology.threads=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">2</span><code class="language-plaintext highlighter-rouge"> --memory </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">16384</span><code class="language-plaintext highlighter-rouge"> --disk path=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/이미지.qcow2</span><code class="language-plaintext highlighter-rouge">,size=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">250</span><code class="language-plaintext highlighter-rouge"> --cdrom </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/debian.iso</span></p>

<ul>
  <li>Fedora 35를 기반으로 한 자동 배포를 시작하고 원격 리소스만 사용하여 가상 머신 생성 (ISO 불필요):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">virt-install --name </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">가상머신_이름</span><code class="language-plaintext highlighter-rouge"> --memory </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">2048</span><code class="language-plaintext highlighter-rouge"> --disk path=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/이미지.qcow2</span><code class="language-plaintext highlighter-rouge">,size=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">20</span><code class="language-plaintext highlighter-rouge"> --location=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">https://download.fedoraproject.org/pub/fedora/linux/releases/35/Everything/x86_64/os/</span><code class="language-plaintext highlighter-rouge"> --extra-args="</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">inst.ks=https://경로/대상/유효한/kickstart.org</span><code class="language-plaintext highlighter-rouge">"</code></p>
