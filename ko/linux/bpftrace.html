<h1 id="bpftrace">bpftrace</h1>

<p>Linux eBPF를 위한 고급 추적 언어.
더 많은 정보: <a href="https://github.com/iovisor/bpftrace">https://github.com/iovisor/bpftrace</a>.</p>

<ul>
  <li>bpftrace 버전 표시:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">bpftrace -V</code></p>

<ul>
  <li>사용 가능한 모든 프로브 나열:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo bpftrace -l</code></p>

<ul>
  <li>원라이너 프로그램 실행 (예: 프로그램별 시스템 호출 수):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo bpftrace -e '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">tracepoint:raw_syscalls:sys_enter { @[comm] = count(); }</span><code class="language-plaintext highlighter-rouge">'</code></p>

<ul>
  <li>파일에서 프로그램 실행:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo bpftrace </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">경로/대상/파일</span></p>

<ul>
  <li>PID로 프로그램 추적:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo bpftrace -e '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">tracepoint:raw_syscalls:sys_enter /pid == 123/ { @[comm] = count(); }</span><code class="language-plaintext highlighter-rouge">'</code></p>

<ul>
  <li>드라이런을 수행하고 eBPF 형식으로 출력 표시:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo bpftrace -d -e '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">한_줄_프로그램</span><code class="language-plaintext highlighter-rouge">'</code></p>
