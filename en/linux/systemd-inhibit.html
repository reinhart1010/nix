<h1 id="systemd-inhibit">systemd-inhibit</h1>

<p>Prohibit the system from entering certain power states.
Inhibitor locks may be used to block or delay system sleep and shutdown requests as well as automatic idle handling.
More information: <a href="https://www.freedesktop.org/software/systemd/man/systemd-inhibit.html">https://www.freedesktop.org/software/systemd/man/systemd-inhibit.html</a>.</p>

<ul>
  <li>List all active inhibition locks and the reasons for their creation:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-inhibit --list</code></p>

<ul>
  <li>Block system shutdown for a specified number of seconds with the <code class="language-plaintext highlighter-rouge">sleep</code> command:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-inhibit --what shutdown sleep </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">5</span></p>

<ul>
  <li>Keep the system from sleeping or idling until the download is complete:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-inhibit --what sleep:idle wget </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">https://example.com/file</span></p>

<ul>
  <li>Ignore lid close switch until the script exits:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-inhibit --what sleep:handle-lid-switch </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/script</span></p>

<ul>
  <li>Ignore power button press while command is running:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-inhibit --what handle-power-key </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span></p>

<ul>
  <li>Describe who and why created the inhibitor (default: the command and its arguments for <code class="language-plaintext highlighter-rouge">--who</code> and <code class="language-plaintext highlighter-rouge">Unknown reason</code> for <code class="language-plaintext highlighter-rouge">--why</code>):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-inhibit --who </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">$USER</span><code class="language-plaintext highlighter-rouge"> --why </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">reason</span><code class="language-plaintext highlighter-rouge"> --what </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">operation</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span></p>
