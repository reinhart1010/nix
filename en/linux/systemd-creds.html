<h1 id="systemd-creds">systemd-creds</h1>

<p>List, show, encrypt and decrypt service credentials.
More information: <a href="https://www.freedesktop.org/software/systemd/man/systemd-creds.html">https://www.freedesktop.org/software/systemd/man/systemd-creds.html</a>.</p>

<ul>
  <li>Encrypt a file and set a specific name:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-creds encrypt --name=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">name</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_file</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output</span></p>

<ul>
  <li>Decrypt the file again:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-creds decrypt </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_file</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_file</span></p>

<ul>
  <li>Encrypt text from <code class="language-plaintext highlighter-rouge">stdin</code>:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">echo -n </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">text</span><code class="language-plaintext highlighter-rouge"> | systemd-creds encrypt --name=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">name</span><code class="language-plaintext highlighter-rouge"> - </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output</span></p>

<ul>
  <li>Encrypt the text and append it to the service file (the credentials will be available in <code class="language-plaintext highlighter-rouge">$CREDENTIALS_DIRECTORY</code>):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">echo -n </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">text</span><code class="language-plaintext highlighter-rouge"> | systemd-creds encrypt --name=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">name</span><code class="language-plaintext highlighter-rouge"> --pretty - - &gt;&gt; </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">service</span></p>

<ul>
  <li>Create a credential that is only valid until the given timestamp:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-creds encrypt --not-after="</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">timestamp</span><code class="language-plaintext highlighter-rouge">" </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_file</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_file</span></p>
