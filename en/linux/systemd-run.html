<h1 id="systemd-run">systemd-run</h1>

<p>Run programs in transient scope units, service units, or path-, socket-, or timer-triggered service units.
More information: <a href="https://www.freedesktop.org/software/systemd/man/systemd-run.html">https://www.freedesktop.org/software/systemd/man/systemd-run.html</a>.</p>

<ul>
  <li>Start a transient service:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo systemd-run </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">argument1 argument2 …</span></p>

<ul>
  <li>Start a transient service under the service manager of the current user (no privileges):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-run --user </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">argument1 argument2 …</span></p>

<ul>
  <li>Start a transient service with a custom unit name and description:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo systemd-run --unit=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">name</span><code class="language-plaintext highlighter-rouge"> --description=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">string</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">argument1 argument2 …</span></p>

<ul>
  <li>Start a transient service that does not get cleaned up after it terminates with a custom environment variable:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo systemd-run --remain-after-exit --set-env=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">name</span><code class="language-plaintext highlighter-rouge">=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">value</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">argument1 argument2 …</span></p>

<ul>
  <li>Start a transient timer that periodically runs its transient service (see <code class="language-plaintext highlighter-rouge">man systemd.time</code> for calendar event format):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo systemd-run --on-calendar=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">calendar_event</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">argument1 argument2 …</span></p>

<ul>
  <li>Share the terminal with the program (allowing interactive input/output) and make sure the execution details remain after the program exits:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-run --remain-after-exit --pty </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span></p>

<ul>
  <li>Set properties (e.g. CPUQuota, MemoryMax) of the process and wait until it exits:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">systemd-run --property MemoryMax=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">memory_in_bytes</span><code class="language-plaintext highlighter-rouge"> --property CPUQuota=</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">percentage_of_CPU_time</span><code class="language-plaintext highlighter-rouge">% --wait </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command</span></p>

<ul>
  <li>Use the program in a shell pipeline:</li>
</ul>

<p><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command1</span><code class="language-plaintext highlighter-rouge"> | systemd-run --pipe </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command2</span><code class="language-plaintext highlighter-rouge"> | </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">command3</span></p>
