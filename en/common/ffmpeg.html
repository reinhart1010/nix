<h1 id="ffmpeg">ffmpeg</h1>

<p>Video conversion tool.
More information: <a href="https://ffmpeg.org">https://ffmpeg.org</a>.</p>

<ul>
  <li>Extract the sound from a video and save it as MP3:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/video.mp4</span><code class="language-plaintext highlighter-rouge"> -vn </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/sound.mp3</span></p>

<ul>
  <li>Transcode a FLAC file to Red Book CD format (44100kHz, 16bit):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_audio.flac</span><code class="language-plaintext highlighter-rouge"> -ar 44100 -sample_fmt s16 </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_audio.wav</span></p>

<ul>
  <li>Save a video as GIF, scaling the height to 1000px and setting framerate to 15:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/video.mp4</span><code class="language-plaintext highlighter-rouge"> -vf 'scale=-1:</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">1000</span><code class="language-plaintext highlighter-rouge">' -r </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">15</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output.gif</span></p>

<ul>
  <li>Combine numbered images (<code class="language-plaintext highlighter-rouge">frame_1.jpg</code>, <code class="language-plaintext highlighter-rouge">frame_2.jpg</code>, etc) into a video or GIF:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/frame_%d.jpg</span><code class="language-plaintext highlighter-rouge"> -f image2 </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">video.mpg|video.gif</span></p>

<ul>
  <li>Trim a video from a given start time mm:ss to an end time mm2:ss2 (omit the -to flag to trim till the end):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_video.mp4</span><code class="language-plaintext highlighter-rouge"> -ss </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">mm:ss</span><code class="language-plaintext highlighter-rouge"> -to </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">mm2:ss2</span><code class="language-plaintext highlighter-rouge"> -codec copy </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_video.mp4</span></p>

<ul>
  <li>Convert AVI video to MP4. AAC Audio @ 128kbit, h264 Video @ CRF 23:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_video</span><code class="language-plaintext highlighter-rouge">.avi -codec:a aac -b:a 128k -codec:v libx264 -crf 23 </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_video</span><code class="language-plaintext highlighter-rouge">.mp4</code></p>

<ul>
  <li>Remux MKV video to MP4 without re-encoding audio or video streams:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_video</span><code class="language-plaintext highlighter-rouge">.mkv -codec copy </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_video</span><code class="language-plaintext highlighter-rouge">.mp4</code></p>

<ul>
  <li>Convert MP4 video to VP9 codec. For the best quality, use a CRF value (recommended range 15-35) and -b:v MUST be 0:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">ffmpeg -i </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/input_video</span><code class="language-plaintext highlighter-rouge">.mp4 -codec:v libvpx-vp9 -crf </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">30</span><code class="language-plaintext highlighter-rouge"> -b:v 0 -codec:a libopus -vbr on -threads </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">number_of_threads</span><code class="language-plaintext highlighter-rouge"> </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">path/to/output_video</span><code class="language-plaintext highlighter-rouge">.webm</code></p>
