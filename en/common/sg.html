<h1 id="sg">sg</h1>

<p>Ast-grep is a tool for code structural search, lint, and rewriting.
More information: <a href="https://ast-grep.github.io/guide/introduction.html">https://ast-grep.github.io/guide/introduction.html</a>.</p>

<ul>
  <li>Scan for possible queries using interactive mode:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sg scan --interactive</code></p>

<ul>
  <li>Rewrite code in the current directory using patterns:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sg run --pattern '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">foo</span><code class="language-plaintext highlighter-rouge">' --rewrite '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">bar</span><code class="language-plaintext highlighter-rouge">' --lang </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">python</span></p>

<ul>
  <li>Visualize possible changes without applying them:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sg run --pattern '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">useState<number>($A)&lt;/span&gt;`' --rewrite '`<span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">useState($A)</span>`' --lang `<span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">typescript</span></number></span></p>

<ul>
  <li>Output results as JSON, extract information using <code class="language-plaintext highlighter-rouge">jq</code> and interactively view it using <code class="language-plaintext highlighter-rouge">jless</code>:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sg run --pattern '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">Some($A)</span><code class="language-plaintext highlighter-rouge">' --rewrite '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">None</span><code class="language-plaintext highlighter-rouge">' --json | jq '</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">.[].replacement</span><code class="language-plaintext highlighter-rouge">' | jless</code></p>
