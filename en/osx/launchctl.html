<h1 id="launchctl">launchctl</h1>

<p>Control Apple's <code class="language-plaintext highlighter-rouge">launchd</code> manager for launch daemons (system-wide services) and launch agents (per-user programs).
<code class="language-plaintext highlighter-rouge">launchd</code> loads XML-based <code class="language-plaintext highlighter-rouge">*.plist</code> files placed in the appropriate locations, and runs the corresponding commands according to their defined schedule.
More information: <a href="https://keith.github.io/xcode-man-pages/launchctl.1.html">https://keith.github.io/xcode-man-pages/launchctl.1.html</a>.</p>

<ul>
  <li>Activate a user-specific agent to be loaded into <code class="language-plaintext highlighter-rouge">launchd</code> whenever the user logs in:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">launchctl load ~/Library/LaunchAgents/</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">my_script</span><code class="language-plaintext highlighter-rouge">.plist</code></p>

<ul>
  <li>Activate an agent which requires root privileges to run and/or should be loaded whenever any user logs in (note the absence of <code class="language-plaintext highlighter-rouge">~</code> in the path):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo launchctl load /Library/LaunchAgents/</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">root_script</span><code class="language-plaintext highlighter-rouge">.plist</code></p>

<ul>
  <li>Activate a system-wide daemon to be loaded whenever the system boots up (even if no user logs in):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">sudo launchctl load /Library/LaunchDaemons/</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">system_daemon</span><code class="language-plaintext highlighter-rouge">.plist</code></p>

<ul>
  <li>Show all loaded agents/daemons, with the PID if the process they specify is currently running, and the exit code returned the last time they ran:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">launchctl list</code></p>

<ul>
  <li>Unload a currently loaded agent, e.g. to make changes (Note: the plist file is automatically loaded into <code class="language-plaintext highlighter-rouge">launchd</code> after a reboot and/or logging in):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">launchctl unload ~/Library/LaunchAgents/</code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">my_script</span><code class="language-plaintext highlighter-rouge">.plist</code></p>

<ul>
  <li>Manually run a known (loaded) agent/daemon, even if it is not the right time (Note: this command uses the agent's label, rather than the filename):</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">launchctl start </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">script_file</span></p>

<ul>
  <li>Manually kill the process associated with a known agent/daemon, if it is running:</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">launchctl stop </code><span class="tldr-var badge badge-pill bg-dark-lm bg-white-dm text-white-lm text-dark-dm font-weight-bold">script_file</span></p>
